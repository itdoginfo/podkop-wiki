---
title: "Настройки"
weight: 4
toc: true
---

## Тип протокола DNS | DNS Protocol Type

Позволяет выбрать тип DNS-протокола:

- DoH (DNS over HTTPS)
- DoT (DNS over TLS)
- UDP (Без шифрования)

## DNS-сервер | DNS Server

DNS-сервер, который будет использован для всех DNS-запросов (в том числе и для сайтов не из списков) во время работы `podkop`.

Позволяет выбрать предустановленный DNS-сервер или указать свой.


#### Bootstrap DNS-сервер | Bootstrap DNS Server

UDP-сервер, который будет использоваться для нахождения IP сервера из опции **DNS-сервер**, если в качестве его адреса использовалось доменное имя.

#### Перезапись TTL для DNS | DNS Rewrite TTL

Время в секундах, в течение которого DNS-запись с IP адресом из `FakeIP` подсети будет храниться в кэше устройств. Рекомендуется использовать дефолтное значение.

Если файл кэша хранится в RAM, то после перезагрузки роутера "старые" зарезолвленные фейковые IP адреса останутся на устройстве и не будут работать с "новым" кэшем.

Именно поэтому `TTL` по-умолчанию установлен в **1 минуту** - оптимальное значение: после ребута роутера они пропадут с ваших устройств и DNS-запросы к роутеру будут ходить не слишком часто.

## Сетевой интерфейс источника | Source Network interface

Позволяет выбрать интерфейс(ы), с которого(ых) трафик должен идти в прокси. Следует изменить, если у вас локальная сеть на нестандартном `br-lan` или если вам необходимо перенаправление трафика с дополнительного интерфейса, например `wg0`.

#### Включить выходной сетевой интерфейс | Enable Output Network Interface

> [!NOTE]
> Экспериментальная опция, возможно будет убрана в дальнейшем.

Позволяет выбрать выходной сетевой интерфейс для `sing-box`. По умолчанию интерфейс определяется автоматически.


## Мониторинг интерфейса | Interface Monitoring

Если у вас нестабильное соединение на WAN, то sing-box может терять интерфейс, в который ему нужно направлять трафик. На практике такое встречается при использовании плохо реализованых PPPoE-соединений и USB-модемов.

Подробнее о настройке вы можете узнать [здесь](/docs/badwan/).

## Включить Yacd | Yacd enable

`Yacd (Clash API)` представляет собой дополнительную веб-панель, в которой вы можете увидеть уходят ли соединения в туннель, потребление памяти и правила, используемые `sing-box`. Подробнее [здесь](/docs/yacd/).

После включения становятся доступны две дополнительные настройки:

##### Enable YACD WAN Access
Разрешает доступ к Yacd из WAN, в случае, если вы по какой-то причине открыли доступ к WAN.

##### Секретный ключ YACD | YACD Secret Key
Ключ для подключения к Yacd, указывается в поле **Secret** и является обязательным, при использовании опции **Enable YACD WAN Access**.

## Отключить QUIC | QUIC disable

Позволяет отключить использование протокола `QUIC`. Может быть полезно при проблемах с YouTube на Android-устройствах.

## Частота обновления списков | List Update Frequency

С какой частотой будут обновляться предустановленные списки доменов.

## Скачивать списки через Proxy/VPN | Proxy download of lists

Если у вас заблокирован github или другой ресурс, с которого вам необходимо загружать списки доменов для работы в Podkop, вы можете воспользоваться данной опцией. При её включении вы сможете выбрать секцию, чтобы указать через какой туннель будут загружаться списки. 

## Dont touch my DHCP!

По умолчанию podkop редактирует /etc/config/dhcp, чтобы прописать sing-box в качестве основного DNS-сервера. Без этого невозможна работа со схемой FakeIP/FakeDNS. Эта опция отключает эту функцию, и вы можете редактировать конфигурацию dnsmasq как вам потребуется.

Подробнее о настройке вы можете узнать [здесь](/docs/dont-touch-my-dhcp/).

## Путь к файлу конфигурации | Config File Path

Место, где будет храниться конфиг `sing-box`: во **Flash** или **RAM**. По умолчанию используется внутренняя память устройства.

## Путь к файлу кэша | Cache File Path

Место, где будет храниться кэш от DNS-записей и предустановленные списки. По умолчанию хранится в **/tmp** (раздел в RAM).

Вы можете хранить его в NAND, но это уже на ваш страх и риск. Также можно вынести на внешний накопитель, указать путь к нему в этом поле.

## Исключить NTP | Exclude NTP

Позволяет исключить направление трафика NTP-протокола в туннель/proxy. Может быть необходимо, при использовании умных колонок от Яндекс и в других ситуациях, если у вас остается много незакрытых соединений и из-за этого растет потребление оперативной памяти роутера.

## Исключенные из маршрутизации IP-адреса | IP for exclusion

Если вам требуется исключить устройство из проксирования, то вы можете указать его IP в данной опции.
